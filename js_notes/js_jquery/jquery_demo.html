<!--
@author: magician
@file:   jquery_demo.html
@date:   2020/2/4
-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>jquery_demo</title>
    <script src="//code.jquery.com/jquery-2.1.4.min.js"></script>
</head>
<body>
    <div id="test-jquery">
        <p id="para-1" class="color-red">JavaScript</p>
        <p id="para-2" class="color-green">Haskell</p>
        <p class="color-red color-green">Erlang</p>
        <p name="name" class="color-black">Python</p>
        <form action="#0" class="test-fom" target="_blank" onsubmit="return false;">
            <legend>注册新用户</legend>
            <fieldset>
                <p><label>名字：<input name="name"></label></p>
                <p><label>邮件：<input name="email"></label></p>
                <p><label>口令：<input name="password" type="password"></label></p>
                <p><button type="submit">注册</button></p>
            </fieldset>
        </form>
    </div>

    <div class="testing">
        <ul class="lang">
            <li class="lang-javascript">JavaScript</li>
            <li class="lang-python">Python</li>
            <li class="lang-lua">Lua</li>
        </ul>
    </div>

    <div class="test-selector">
        <ul class="test-lang">
            <li class="lang-javascript">JavaScript</li>
            <li class="lang-python">Python</li>
            <li class="lang-lua">Lua</li>
        </ul>
        <ol class="test-lang">
            <li class="lang-swift">Swift</li>
            <li class="lang-java">Java</li>
            <li class="lang-c">C</li>
        </ol>
    </div>

    <div id="test-jquery1" class="test-selector">
        <ul class="test-lang">
            <li class="lang-javascript">JavaScript</li>
            <li class="lang-python">Python</li>
            <li class="lang-lua">Lua</li>
        </ul>
        <ol class="test-lang">
            <li class="lang-swift">Swift</li>
            <li class="lang-java">Java</li>
            <li class="lang-c">C</li>
        </ol>
    </div>

    <script>
        console.log('jQuery版本：' + $.fn.jquery);

        // $符号
        console.log(window.jQuery);
        console.log(window.$);
        console.log($ === jQuery);
        console.log(typeof ($));
        // console.log($);
        // jQuery.noConflict();
        // console.log($);
        // console.log(jQuery);

        // 按ID查找
        // 查找<div id="abc">:
        let div = $('#abc');
        console.log(div);
        // jQuery对象
        // let div = $('#abc');
        // 假设存在div，获取第1个DOM元素
        let divDom = div.get(0);
        // 重新把DOM包装为jQuery对象
        let another = $(divDom);
        // 按tag查找
        // 返回所有<p>节点
        let ps = $('p');
        console.log(ps.length);
        // 按class查找
        // 所有节点包含`class="red"`都将返回
        // <div class="red">...</div>
        // <p class="green red">...</p>
        // let a = $('.red');
        let a = $('.red.green');
        // 符合条件的节点：
        // <div class="red green">...</div>
        // <div class="blue green red">...</div>

        // 按属性查找
        // 找出<??? name="email">
        let email = $('[name=email]');
        // 找出<??? type="password">
        let passwordInput = $('[name=password]');
        // 找出<??? items="A B">
        // let a = $('[items="A B"]');
        // 找出所有name属性值以icon开头的DOM
        let icons = $('[name^=icon]');
        // 找出所有name属性值以with结尾的DOM
        let names = $('[name$=with]');
        // 找出所有class包含至少一个以`icon-`开头的DOM
        // let icons = $('[class^="icon-"]');

        // 组合查找
        // 不会找出<div name="email">
        let emailInput = $('input[name=email]');
        // 找出<tr class="red ...">...</tr>
        let tr = $('tr.red');
        // 多项选择器
        // 把<p>和<div>都选出来
        $('p.div');
        // 把<p class="red">和<p class="green">都选出来
        $('p.div,p.green');

        let selected = null;
        selected = $('#para-1');
        selected = $('.color-red.color-green');
        selected = $('.color-red');
        selected = $('[class^=color-]');
        selected = $('#test-jquery>p');
        selected = $('input');
        selected = $('input[name=name],input[name=email]');
        // 高亮结果:
        if (!(selected instanceof jQuery)) {
            console.log('不是有效的jQuery对象!');
        }
        $('#test-jquery').find('*').css('background-color', '');
        selected.css('background-color', '#ffd351');

        // 层级选择器（Descendant Selector）
        console.log($('ul.lang li.lang-javascript'));
        console.log($('div.testing li.lang-javascript'));
        console.log('ul.lang li');
        console.log($('form[name=upload] input'));
        // 在form表单选择被<p>包含的<input>
        console.log('form.test p input');

        // 子选择器（Child Selector）
        console.log('ul.lang>li.lang-javascript');
        console.log('div.testing>li.lang-javascript');

        // 过滤器（Filter）
        console.log('ul.lang li');
        console.log('ul.lang li:first-child');
        console.log('ul.lang li:last-child');
        console.log('ul.lang li:nth-child(2)');
        console.log('ul.lang li:nth-child(even)');
        console.log('ul.lang li:nth-child(odd)');

        // 表单相关
        // :input：可以选择<input>，<textarea>，<select>和<button>
        // :file：可以选择<input type="file">，和input[type=file]一样
        // :checkbox：可以选择复选框，和input[type=checkbox]一样
        // :radio：可以选择单选框，和input[type=radio]一样
        // :focus：可以选择当前输入焦点的元素，例如把光标放到一个<input>上，用$('input:focus')就可以选出
        // :checked：选择当前勾上的单选框和复选框，用这个选择器可以立刻获得用户选择的项目，如$('input[type=radio]:checked')
        // :enabled：可以选择可以正常输入的<input>、<select> 等，也就是没有灰掉的输入
        // :disabled：和:enabled正好相反，选择那些不能输入的
        // 所有可见的div
        console.log($('div:visible'));
        // 所有隐藏的div
        console.log($('div:hidden'));

        let selected1 = null;
        // 分别选择所有语言，所有动态语言，所有静态语言，JavaScript，Lua，C等:
        selected1 = $('div.test-selector li');
        selected1 = $('ul.test-lang li');
        selected1 = $('ol.test-lang li');
        selected1 = $('.lang-javascript');
        selected1 = $('.lang-lua');
        selected1 = $('.lang-c');

        // 高亮结果:
        if (!(selected1 instanceof jQuery)) {
            console.log('不是有效的jQuery对象!');
        }
        $('#test-jquery1').find('*').css('background-color', '');
        selected1.css('background-color', '#ffd351');
    </script>
</body>
</html>